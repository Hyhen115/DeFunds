Using contract tester version 0.6.2
(1/3)ğŸ§¬Compiling contract: allcontract_20980517_1745134084.sol
[âœ…PASS]Compilation
(2/3)ğŸ¤–Generating test case for: allcontract_20980517_1745134084.sol
[âœ…PASS]Read contract
[â„¹ï¸INFO] Contract file already exists in destination, skipping adjust.
[âš ï¸WARNING]No </think> tag found in input
[âœ…PASS]Test case generation
[âœ…PASS]Write test contract file
(3/3)ğŸ§ªRunning tests in allcontract_20980517_1745134084.t.sol
(ğŸ§ªAttempt 1/3)
Compiling 1 files with Solc 0.8.28
Solc 0.8.28 finished in 776.11ms
Compiler run successful with warnings:
Warning (2072): Unused local variable.
   --> test/allcontract_20980517_1745134084.t.sol:109:9:
    |
109 |         uint256 ownerBalanceBefore = ownerAddr.balance;
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^


Ran 9 tests for test/allcontract_20980517_1745134084.t.sol:ContractTest
[PASS] test_createCampaign_inFactory() (gas: 5844999)
Logs:
  Running test_createCampaign_inFactory

Traces:
  [5844999] ContractTest::test_createCampaign_inFactory()
    â”œâ”€ [0] console::log("Running test_createCampaign_inFactory") [staticcall]
    â”‚   â””â”€ â† [Stop] 
    â”œâ”€ [3543993] â†’ new CrowdfundFactory@0x5615dEB798BB3E4dFa0139dFa1b3D433Cc23b72f
    â”‚   â””â”€ â† [Return] 17479 bytes of code
    â”œâ”€ [0] VM::prank(PointEvaluation: [0x000000000000000000000000000000000000000A])
    â”‚   â””â”€ â† [Return] 
    â”œâ”€ [2246584] CrowdfundFactory::createCampaign("Factory Campaign", "Desc", 5000000000000000000 [5e18], 864001 [8.64e5], "Image")
    â”‚   â”œâ”€ [1980698] â†’ new Crowdfund@0x104fBc016F4bb334D775a19E8A6510109AC63E00
    â”‚   â”‚   â””â”€ â† [Return] 9085 bytes of code
    â”‚   â”œâ”€ emit CampaignCreated(campaignAddress: Crowdfund: [0x104fBc016F4bb334D775a19E8A6510109AC63E00], owner: PointEvaluation: [0x000000000000000000000000000000000000000A], name: "Factory Campaign")
    â”‚   â””â”€ â† [Stop] 
    â”œâ”€ [3277] CrowdfundFactory::getAllCampaigns() [staticcall]
    â”‚   â””â”€ â† [Return] [Campaign({ campaignAddress: 0x104fBc016F4bb334D775a19E8A6510109AC63E00, owner: 0x000000000000000000000000000000000000000A, name: "Factory Campaign", createTime: 1 })]
    â”œâ”€ [0] VM::assertEq(1, 1, "Factory should have one campaign") [staticcall]
    â”‚   â””â”€ â† [Return] 
    â””â”€ â† [Stop] 

[PASS] test_donate_success() (gas: 2154492)
Logs:
  Running test_donate_success

Traces:
  [2154492] ContractTest::test_donate_success()
    â”œâ”€ [0] console::log("Running test_donate_success") [staticcall]
    â”‚   â””â”€ â† [Stop] 
    â”œâ”€ [1980698] â†’ new Crowdfund@0x5615dEB798BB3E4dFa0139dFa1b3D433Cc23b72f
    â”‚   â””â”€ â† [Return] 9085 bytes of code
    â”œâ”€ [2513] Crowdfund::totalDonations() [staticcall]
    â”‚   â””â”€ â† [Return] 0
    â”œâ”€ [0] VM::assertEq(0, 0, "Initial total donations should be zero") [staticcall]
    â”‚   â””â”€ â† [Return] 
    â”œâ”€ [112567] Crowdfund::donate{value: 1000000000000000000}()
    â”‚   â””â”€ â† [Stop] 
    â”œâ”€ [891] Crowdfund::donationAmounts(ContractTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496]) [staticcall]
    â”‚   â””â”€ â† [Return] 1000000000000000000 [1e18]
    â”œâ”€ [0] VM::assertEq(1000000000000000000 [1e18], 1000000000000000000 [1e18], "Donation amount not recorded correctly") [staticcall]
    â”‚   â””â”€ â† [Return] 
    â”œâ”€ [513] Crowdfund::totalDonations() [staticcall]
    â”‚   â””â”€ â† [Return] 1000000000000000000 [1e18]
    â”œâ”€ [0] VM::assertEq(1000000000000000000 [1e18], 1000000000000000000 [1e18], "Total donations should equal donated amount") [staticcall]
    â”‚   â””â”€ â† [Return] 
    â”œâ”€ [1055] Crowdfund::donators(0) [staticcall]
    â”‚   â””â”€ â† [Return] ContractTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496]
    â”œâ”€ [0] VM::assertEq(ContractTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], ContractTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], "Donor not recorded correctly") [staticcall]
    â”‚   â””â”€ â† [Return] 
    â””â”€ â† [Stop] 

[PASS] test_donate_zero_shouldRevert() (gas: 2024948)
Logs:
  Running test_donate_zero_shouldRevert

Traces:
  [2024948] ContractTest::test_donate_zero_shouldRevert()
    â”œâ”€ [0] console::log("Running test_donate_zero_shouldRevert") [staticcall]
    â”‚   â””â”€ â† [Stop] 
    â”œâ”€ [1980698] â†’ new Crowdfund@0x5615dEB798BB3E4dFa0139dFa1b3D433Cc23b72f
    â”‚   â””â”€ â† [Return] 9085 bytes of code
    â”œâ”€ [0] VM::expectRevert(custom error 0xf28dceb3:  Must donate some ETH to donate)
    â”‚   â””â”€ â† [Return] 
    â”œâ”€ [743] Crowdfund::donate()
    â”‚   â””â”€ â† [Revert] revert: Must donate some ETH to donate
    â””â”€ â† [Stop] 

[PASS] test_factory_togglePause() (gas: 3593552)
Logs:
  Running test_factory_togglePause

Traces:
  [3593552] ContractTest::test_factory_togglePause()
    â”œâ”€ [0] console::log("Running test_factory_togglePause") [staticcall]
    â”‚   â””â”€ â† [Stop] 
    â”œâ”€ [3543993] â†’ new CrowdfundFactory@0x5615dEB798BB3E4dFa0139dFa1b3D433Cc23b72f
    â”‚   â””â”€ â† [Return] 17479 bytes of code
    â”œâ”€ [862] CrowdfundFactory::togglePause()
    â”‚   â””â”€ â† [Stop] 
    â”œâ”€ [0] VM::expectRevert(custom error 0xf28dceb3:  it is paused)
    â”‚   â””â”€ â† [Return] 
    â”œâ”€ [3205] CrowdfundFactory::createCampaign("Paused Campaign", "Desc", 5000000000000000000 [5e18], 864001 [8.64e5], "Image")
    â”‚   â””â”€ â† [Revert] revert: it is paused
    â””â”€ â† [Stop] 

[PASS] test_proposeDeadlineExtension_success() (gas: 2228918)
Logs:
  Running test_proposeDeadlineExtension_success

Traces:
  [2228918] ContractTest::test_proposeDeadlineExtension_success()
    â”œâ”€ [0] console::log("Running test_proposeDeadlineExtension_success") [staticcall]
    â”‚   â””â”€ â† [Stop] 
    â”œâ”€ [1980698] â†’ new Crowdfund@0x5615dEB798BB3E4dFa0139dFa1b3D433Cc23b72f
    â”‚   â””â”€ â† [Return] 9085 bytes of code
    â”œâ”€ [114567] Crowdfund::donate{value: 5000000000000000000}()
    â”‚   â””â”€ â† [Stop] 
    â”œâ”€ [72795] Crowdfund::proposeDeadlineExtension(2)
    â”‚   â”œâ”€ emit DeadlineExtensionProposed(_days: 2, voteEndTime: 259201 [2.592e5])
    â”‚   â””â”€ â† [Stop] 
    â”œâ”€ [0] VM::expectRevert(custom error 0xf28dceb3:   voting period now, cannot donate)
    â”‚   â””â”€ â† [Return] 
    â”œâ”€ [904] Crowdfund::donate{value: 100000000000000000}()
    â”‚   â””â”€ â† [Revert] revert: voting period now, cannot donate
    â”œâ”€ [492] Crowdfund::voteEndTime() [staticcall]
    â”‚   â””â”€ â† [Return] 259201 [2.592e5]
    â”œâ”€ [0] VM::assertEq(259201 [2.592e5], 259201 [2.592e5], "Vote end time incorrect") [staticcall]
    â”‚   â””â”€ â† [Return] 
    â””â”€ â† [Stop] 

[PASS] test_refund_success() (gas: 2165320)
Logs:
  Running test_refund_success

Traces:
  [2185220] ContractTest::test_refund_success()
    â”œâ”€ [0] console::log("Running test_refund_success") [staticcall]
    â”‚   â””â”€ â† [Stop] 
    â”œâ”€ [1980698] â†’ new Crowdfund@0x5615dEB798BB3E4dFa0139dFa1b3D433Cc23b72f
    â”‚   â””â”€ â† [Return] 9085 bytes of code
    â”œâ”€ [0] VM::prank(0x000000000000000000000000000000000000000b)
    â”‚   â””â”€ â† [Return] 
    â”œâ”€ [114567] Crowdfund::donate{value: 1000000000000000000}()
    â”‚   â””â”€ â† [Stop] 
    â”œâ”€ [0] VM::warp(172801 [1.728e5])
    â”‚   â””â”€ â† [Return] 
    â”œâ”€ [891] Crowdfund::donationAmounts(0x000000000000000000000000000000000000000b) [staticcall]
    â”‚   â””â”€ â† [Return] 1000000000000000000 [1e18]
    â”œâ”€ [0] VM::assertEq(1000000000000000000 [1e18], 1000000000000000000 [1e18], "Donation not recorded correctly") [staticcall]
    â”‚   â””â”€ â† [Return] 
    â”œâ”€ [0] VM::prank(0x000000000000000000000000000000000000000b)
    â”‚   â””â”€ â† [Return] 
    â”œâ”€ [29124] Crowdfund::refund()
    â”‚   â”œâ”€ [0] 0x000000000000000000000000000000000000000b::fallback{value: 1000000000000000000}()
    â”‚   â”‚   â””â”€ â† [Stop] 
    â”‚   â””â”€ â† [Stop] 
    â”œâ”€ [891] Crowdfund::donationAmounts(0x000000000000000000000000000000000000000b) [staticcall]
    â”‚   â””â”€ â† [Return] 0
    â”œâ”€ [0] VM::assertEq(0, 0, "Donation amount should be reset after refund") [staticcall]
    â”‚   â””â”€ â† [Return] 
    â”œâ”€ [0] VM::assertApproxEqAbs(100000000000000000000 [1e20], 100000000000000000000 [1e20], 1) [staticcall]
    â”‚   â””â”€ â† [Return] 
    â””â”€ â† [Stop] 

[PASS] test_voteAndConfirmDeadlineExtension_success() (gas: 2197919)
Logs:
  Running test_voteAndConfirmDeadlineExtension_success

Traces:
  [2277519] ContractTest::test_voteAndConfirmDeadlineExtension_success()
    â”œâ”€ [0] console::log("Running test_voteAndConfirmDeadlineExtension_success") [staticcall]
    â”‚   â””â”€ â† [Stop] 
    â”œâ”€ [1980698] â†’ new Crowdfund@0x5615dEB798BB3E4dFa0139dFa1b3D433Cc23b72f
    â”‚   â””â”€ â† [Return] 9085 bytes of code
    â”œâ”€ [0] VM::prank(0x000000000000000000000000000000000000000b)
    â”‚   â””â”€ â† [Return] 
    â”œâ”€ [114567] Crowdfund::donate{value: 5000000000000000000}()
    â”‚   â””â”€ â† [Stop] 
    â”œâ”€ [0] VM::prank(ContractTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496])
    â”‚   â””â”€ â† [Return] 
    â”œâ”€ [72795] Crowdfund::proposeDeadlineExtension(2)
    â”‚   â”œâ”€ emit DeadlineExtensionProposed(_days: 2, voteEndTime: 259201 [2.592e5])
    â”‚   â””â”€ â† [Stop] 
    â”œâ”€ [0] VM::prank(0x000000000000000000000000000000000000000b)
    â”‚   â””â”€ â† [Return] 
    â”œâ”€ [46238] Crowdfund::voteOnDeadlineExtension(true)
    â”‚   â”œâ”€ emit Voted(voterAddr: 0x000000000000000000000000000000000000000b, voteFor: true, voteAmount: 5000000000000000000 [5e18])
    â”‚   â””â”€ â† [Stop] 
    â”œâ”€ [0] VM::warp(345601 [3.456e5])
    â”‚   â””â”€ â† [Return] 
    â”œâ”€ [537] Crowdfund::deadline() [staticcall]
    â”‚   â””â”€ â† [Return] 864001 [8.64e5]
    â”œâ”€ [4397] Crowdfund::confirmDeadlineExtension()
    â”‚   â”œâ”€ emit DeadlineExtensionSuccess(deadline: 1036801 [1.036e6])
    â”‚   â””â”€ â† [Stop] 
    â”œâ”€ [537] Crowdfund::deadline() [staticcall]
    â”‚   â””â”€ â† [Return] 1036801 [1.036e6]
    â”œâ”€ [0] VM::assertEq(1036801 [1.036e6], 1036801 [1.036e6], "Deadline was not extended correctly") [staticcall]
    â”‚   â””â”€ â† [Return] 
    â””â”€ â† [Stop] 

[PASS] test_voteReverts_whenAlreadyVoted() (gas: 2272399)
Logs:
  Running test_voteReverts_whenAlreadyVoted

Traces:
  [2272399] ContractTest::test_voteReverts_whenAlreadyVoted()
    â”œâ”€ [0] console::log("Running test_voteReverts_whenAlreadyVoted") [staticcall]
    â”‚   â””â”€ â† [Stop] 
    â”œâ”€ [1980698] â†’ new Crowdfund@0x5615dEB798BB3E4dFa0139dFa1b3D433Cc23b72f
    â”‚   â””â”€ â† [Return] 9085 bytes of code
    â”œâ”€ [0] VM::prank(0x000000000000000000000000000000000000000b)
    â”‚   â””â”€ â† [Return] 
    â”œâ”€ [114567] Crowdfund::donate{value: 5000000000000000000}()
    â”‚   â””â”€ â† [Stop] 
    â”œâ”€ [0] VM::prank(ContractTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496])
    â”‚   â””â”€ â† [Return] 
    â”œâ”€ [72795] Crowdfund::proposeDeadlineExtension(1)
    â”‚   â”œâ”€ emit DeadlineExtensionProposed(_days: 1, voteEndTime: 259201 [2.592e5])
    â”‚   â””â”€ â† [Stop] 
    â”œâ”€ [0] VM::prank(0x000000000000000000000000000000000000000b)
    â”‚   â””â”€ â† [Return] 
    â”œâ”€ [46238] Crowdfund::voteOnDeadlineExtension(true)
    â”‚   â”œâ”€ emit Voted(voterAddr: 0x000000000000000000000000000000000000000b, voteFor: true, voteAmount: 5000000000000000000 [5e18])
    â”‚   â””â”€ â† [Stop] 
    â”œâ”€ [0] VM::prank(0x000000000000000000000000000000000000000b)
    â”‚   â””â”€ â† [Return] 
    â”œâ”€ [0] VM::expectRevert(custom error 0xf28dceb3:  
already voted)
    â”‚   â””â”€ â† [Return] 
    â”œâ”€ [1735] Crowdfund::voteOnDeadlineExtension(true)
    â”‚   â””â”€ â† [Revert] revert: already voted
    â””â”€ â† [Stop] 

[PASS] test_withdraw_success() (gas: 2183076)
Logs:
  Running test_withdraw_success

Traces:
  [2183076] ContractTest::test_withdraw_success()
    â”œâ”€ [0] console::log("Running test_withdraw_success") [staticcall]
    â”‚   â””â”€ â† [Stop] 
    â”œâ”€ [1980698] â†’ new Crowdfund@0x5615dEB798BB3E4dFa0139dFa1b3D433Cc23b72f
    â”‚   â””â”€ â† [Return] 9085 bytes of code
    â”œâ”€ [134638] Crowdfund::donate{value: 5000000000000000000}()
    â”‚   â””â”€ â† [Stop] 
    â”œâ”€ [884] Crowdfund::getState() [staticcall]
    â”‚   â””â”€ â† [Return] 1
    â”œâ”€ [0] VM::assertEq(1, 1, "Campaign should be successful") [staticcall]
    â”‚   â””â”€ â† [Return] 
    â”œâ”€ [467] Crowdfund::getContractBalance() [staticcall]
    â”‚   â””â”€ â† [Return] 5000000000000000000 [5e18]
    â”œâ”€ [0] VM::assertEq(5000000000000000000 [5e18], 5000000000000000000 [5e18], "Campaign contract balance incorrect") [staticcall]
    â”‚   â””â”€ â† [Return] 
    â”œâ”€ [0] VM::prank(ContractTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496])
    â”‚   â””â”€ â† [Return] 
    â”œâ”€ [8600] Crowdfund::withdraw()
    â”‚   â”œâ”€ [41] ContractTest::receive{value: 5000000000000000000}()
    â”‚   â”‚   â””â”€ â† [Stop] 
    â”‚   â””â”€ â† [Stop] 
    â”œâ”€ [467] Crowdfund::getContractBalance() [staticcall]
    â”‚   â””â”€ â† [Return] 0
    â”œâ”€ [0] VM::assertEq(0, 0, "Campaign contract should have zero balance after withdrawal") [staticcall]
    â”‚   â””â”€ â† [Return] 
    â””â”€ â† [Stop] 

Suite result: ok. 9 passed; 0 failed; 0 skipped; finished in 2.43ms (1.80ms CPU time)

Ran 1 test suite in 1.28s (2.43ms CPU time): 9 tests passed, 0 failed, 0 skipped (9 total tests)

